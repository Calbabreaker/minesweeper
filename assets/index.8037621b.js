import{j as y,r as h,R as S,a as b}from"./vendor.f5d90669.js";const E=function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const n of t.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&r(n)}).observe(document,{childList:!0,subtree:!0});function c(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?t.credentials="include":e.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function r(e){if(e.ep)return;e.ep=!0;const t=c(e);fetch(e.href,t)}};E();const m=y.exports.jsx,C=y.exports.jsxs,G=y.exports.Fragment;function M(a,l){return Math.floor(Math.random()*(l-a)+a)}function j(a,l,c,r){var e;for(let t=-1;t<=1;t++)for(let n=-1;n<=1;n++){if(t==0&&n==0)continue;const[u,d]=[l+t,c+n],g=(e=a[u])==null?void 0:e[d];g&&r(g,u,d)}}function N(a,l,c){const r=[];for(let e=0;e<l;e++){r[e]=[];for(let t=0;t<l;t++)r[e][t]={value:0,mine:!1,flagged:!1,revealed:!1,red:!1}}for(let e=0;e<c;){const t=M(0,l),n=M(0,a),u=r[t][n];u.mine||(u.mine=!0,e++,j(r,t,n,d=>{d.value++}))}return r}const O=({rows:a,cols:l,mines:c})=>{const[r,e]=h.exports.useState([]),[t,n]=h.exports.useState(!1),[u,d]=h.exports.useState(0);function g(){n(!1),e(N(a,l,c)),d(0)}h.exports.useEffect(()=>{g()},[]);function x(i,f,o){const s=i[f][o];if(!(s.revealed||s.flagged)){if(s.revealed=!0,s.mine){n(!0),s.red=!0,i.forEach(p=>p.forEach(v=>v.revealed=!0)),setTimeout(()=>{g()},1e3);return}s.value==0&&j(i,f,o,(p,v,L)=>{x(i,v,L)})}}function A(i,f){const o=Array.from(r);x(r,i,f),e(o)}function F(i,f){const o=Array.from(r),s=o[i][f];s.flagged=!s.flagged,d(u+(s.flagged?1:-1)),e(o)}return C(G,{children:[C("h1",{children:["Mines left: ",c-u]}),m("div",{className:`board ${t?"lost":""}`,style:{"--rows":a},children:r.map((i,f)=>i.map((o,s)=>m("div",{className:`cell ${o.revealed?"revealed":""}`,onClick:()=>A(f,s),onContextMenu:p=>{p.preventDefault(),F(f,s)},style:{background:o.red?"#e51f12":""},children:m("span",{children:o.revealed?o.mine?"\u{1F4A3}":o.value||"":o.flagged?"\u{1F6A9}":""})},f*a+s)))})]})};function R(){return m(O,{rows:15,cols:15,mines:30})}S.render(m(b.StrictMode,{children:m(R,{})}),document.getElementById("root"));
