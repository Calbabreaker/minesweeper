import{j as y,r as v,R as S,a as b}from"./vendor.f5d90669.js";const E=function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const o of t.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function c(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?t.credentials="include":e.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function r(e){if(e.ep)return;e.ep=!0;const t=c(e);fetch(e.href,t)}};E();const m=y.exports.jsx,C=y.exports.jsxs,G=y.exports.Fragment;function M(a,l){return Math.floor(Math.random()*(l-a)+a)}function j(a,l,c,r){var e;for(let t=-1;t<=1;t++)for(let o=-1;o<=1;o++){if(t==0&&o==0)continue;const[u,d]=[l+t,c+o],g=(e=a[u])==null?void 0:e[d];g&&r(g,u,d)}}function N(a,l,c){const r=[];for(let e=0;e<l;e++){r[e]=[];for(let t=0;t<l;t++)r[e][t]={value:0,mine:!1,flagged:!1,revealed:!1,red:!1}}for(let e=0;e<c;){const t=M(0,l),o=M(0,a),u=r[t][o];u.mine||(u.mine=!0,e++,j(r,t,o,d=>{d.value++}))}return r}const O=({rows:a,cols:l,mines:c})=>{const[r,e]=v.exports.useState([]),[t,o]=v.exports.useState(!1),[u,d]=v.exports.useState(0);function g(){o(!1),e(N(a,l,c)),d(0)}v.exports.useEffect(()=>{g()},[]);function x(i,f,s){const n=i[f][s];if(!(n.revealed||n.flagged)){if(n.revealed=!0,n.mine){o(!0),n.red=!0,i.forEach(p=>p.forEach(h=>h.revealed=!0)),setTimeout(()=>{g()},1e3);return}n.value==0&&j(i,f,s,(p,h,L)=>{x(i,h,L)})}}function A(i,f){const s=Array.from(r);x(r,i,f),e(s)}function F(i,f){const s=Array.from(r),n=s[i][f];n.revealed||(n.flagged=!n.flagged,d(u+(n.flagged?1:-1))),e(s)}return C(G,{children:[C("h1",{children:["Mines left: ",c-u]}),m("div",{className:`board ${t?"lost":""}`,style:{"--rows":a},children:r.map((i,f)=>i.map((s,n)=>m("div",{className:`cell ${s.revealed?"revealed":""}`,onClick:()=>A(f,n),onContextMenu:p=>{p.preventDefault(),F(f,n)},style:{background:s.red?"#e51f12":""},children:m("span",{children:s.flagged?"\u{1F6A9}":s.revealed?s.mine?"\u{1F4A3}":s.value||"":""})},f*a+n)))})]})};function R(){return m(O,{rows:15,cols:15,mines:30})}S.render(m(b.StrictMode,{children:m(R,{})}),document.getElementById("root"));
